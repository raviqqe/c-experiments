rule cc
  command = clang -O0 -Wall -o $out $in

rule benchmark
  command = time $in

build bin/direct_calls: cc direct_calls.c
build bin/indirect_calls: cc indirect_calls.c

build benchmark_direct_calls: benchmark bin/direct_calls
build benchmark_indirect_calls: benchmark bin/indirect_calls

default benchmark_direct_calls benchmark_indirect_calls
